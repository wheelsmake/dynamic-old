{"version":3,"file":"dynamic.js","mappings":"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","sources":["webpack://dynamic/./src/dataFlow.ts","webpack://dynamic/./src/template.ts","webpack://dynamic/./src/utils.ts","webpack://dynamic/webpack/bootstrap","webpack://dynamic/webpack/runtime/define property getters","webpack://dynamic/webpack/runtime/hasOwnProperty shorthand","webpack://dynamic/webpack/runtime/make namespace object","webpack://dynamic/./src/dynamic.ts"],"sourcesContent":["type anyObject = Record<string, any>;\r\ninterface dfScope{\r\n    id :string;\r\n    element :HTMLElement;\r\n    notLinkWith? :HTMLElement[];\r\n    notLinkBy? :HTMLElement[];\r\n}\r\nimport utils from \"./utils\";\r\nexport default class dataFlow{\r\n    #dynamic :anyObject;\r\n    #dfScopes :dfScope[] = [];\r\n    #observer :MutationObserver;\r\n    constructor(dynamic :anyObject){\r\n        this.#dynamic = dynamic;\r\n        this.#observer = new MutationObserver(this.#observerCB);\r\n        this.#observer.observe(document.body,{\r\n            childList: true,\r\n            subtree: true\r\n        });\r\n    }\r\n    new(){\r\n        //todo:\r\n    }\r\n    #observerCB = (resultList :MutationRecord[], observer :MutationObserver)=>{\r\n        //seize:\r\n    }\r\n}","type anyObject = Record<string, any>;\r\ninterface templateObject{\r\n    id :string;\r\n    content :HTMLElement | null;\r\n}\r\ninterface instanceObject{\r\n    reference :HTMLElement;\r\n    slots :anyObject;\r\n}\r\nimport utils from \"./utils\";\r\nexport default class template{\r\n    #dynamic :anyObject;\r\n    #templates :templateObject[] = [];\r\n    #instances :instanceObject[] = [];\r\n    #observer :MutationObserver;\r\n    constructor(dynamic :anyObject){\r\n        this.#dynamic = dynamic;\r\n        this.#convertTemplate();\r\n        this.#observer = new MutationObserver(this.#observerCB);\r\n        this.#observer.observe(document.body,{\r\n            childList: true,\r\n            subtree: true\r\n        });\r\n    }\r\n    //注册模板核心方法，不用判断nodynamic dynamic了！\r\n    register(element :HTMLElement, TUID? :string, remove? :Boolean) :string{\r\n        if(TUID !== undefined && !utils.checkTUID(TUID)) utils.E(\"TUID\", \"string with some limitations\", `${TUID}, read the documentation for help`);\r\n        else if(TUID === undefined) TUID = utils.generateTUID();\r\n        var tem :templateObject = {\r\n            id: TUID,\r\n            content: null\r\n        };\r\n        if(element instanceof HTMLTemplateElement){ //解决掉template的shadow dom\r\n            var el = document.createElement(\"div\");\r\n            for(let i = 0; i < element.content.childNodes.length; i++) el.appendChild(element.content.childNodes[i].cloneNode(true));\r\n            tem.content = el;\r\n        }\r\n        else tem.content = element.cloneNode(true) as HTMLElement;\r\n        this.#templates.push(tem);\r\n        if(remove === true) element.remove();\r\n        return TUID;\r\n    }\r\n    render(tuID :string, element :HTMLElement, slots? :anyObject, removeOuterElement? :Boolean, insertAfter? :Boolean, append? :Boolean) /*:HTMLElement*/{\r\n\r\n        //todo:渲染模板\r\n    }\r\n    update(tuID :string, element :HTMLElement) /*:HTMLElement*/{\r\n        //todo:提供tuid，更新模板内容\r\n    }\r\n    delete(tuID :string) :HTMLElement | null{\r\n        for(let i = 0; i < this.#templates.length; i++) if(this.#templates[i].id === tuID){\r\n            let content = this.#templates[i].content;\r\n            this.#templates.splice(i, 1);\r\n            return content;\r\n        }\r\n        return null;\r\n    }\r\n    getContent(tuID :string) :HTMLElement | null{\r\n        for(let i = 0; i < this.#templates.length; i++) if(this.#templates[i].id === tuID) return this.#templates[i].content as HTMLElement;\r\n        return null;\r\n    }\r\n    exists(element :HTMLElement) :string | null{\r\n        for(let i = 0; i < this.#templates.length; i++) if(this.#templates[i].content === element) return this.#templates[i].id as string;\r\n        return null;\r\n    }\r\n    getInstance(tuID :string) /*:instanceObject | instanceObject[]*/{\r\n        //todo:传入tuid，获取已实例化的模板列表\r\n        /*return [{\r\n            reference: ,\r\n            slots:[\r\n\r\n            ]\r\n        }];*/\r\n    }\r\n    getTemplates() :templateObject[]{return this.#templates;} //获取所有模板\r\n    //调试用方法，不要一直开着！\r\n    /**//*\r\n    /**/\r\n    //observer回调方法\r\n    #observerCB = (resultList :MutationRecord[], observer :MutationObserver)=>{\r\n        for(let i = 0; i < resultList.length; i++) for(let j = 0; j < resultList[i].addedNodes.length; j++){\r\n            const ele = resultList[i].addedNodes[j] as HTMLElement;\r\n            //template增量注册\r\n            if(ele instanceof HTMLTemplateElement && ele.getAttribute(\"nodynamic\") === null) this.#convertTemplate(ele);\r\n            //todo:释放tuid检测与渲染模板\r\n        }\r\n    }\r\n    //从template增量注册与起始注册混用方法\r\n    #convertTemplate = (template_input? :HTMLTemplateElement) :void=>{\r\n        if(template_input === undefined){\r\n            const templates = document.querySelectorAll(\"template\");\r\n            for(let i = 0; i < templates.length; i++){\r\n                if(templates[i].getAttribute(\"nodynamic\") === null){\r\n                    var tuid = templates[i].getAttribute(\"tuid\");\r\n                    if(!tuid || !utils.checkTUID(tuid)) tuid = utils.generateTUID();\r\n                    this.register(templates[i], tuid, templates[i].getAttribute(\"dynamic\") !== null);\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            var tuid = template_input.getAttribute(\"tuid\");\r\n            if(!tuid || !utils.checkTUID(tuid)) tuid = utils.generateTUID();\r\n            this.register(template_input, tuid, template_input.getAttribute(\"dynamic\") !== null);\r\n        }\r\n    }\r\n}","type anyObject = Record<string, any>;\r\nfunction E(name? :string, type? :string, value? :any) :never{\r\n    if(name === undefined) throw new Error(\"An error occured.\");\r\n    else throw new Error(`Argument '${name}' ${type ? `should be a ${type}` : \"is invalid\"}${value ? `, received ${value}` : \"\"}.`);\r\n}\r\nfunction EE(message :any) :never{throw new Error(message);}\r\nfunction toHTML(HTML :string) :Node[]{\r\n    const ele = document.createElement(\"div\");\r\n    var returnA :Node[] = [];\r\n    ele.innerHTML = HTML;\r\n    //console.log(ele.innerHTML);\r\n    if(HTML === \"\" || typeof HTML != \"string\") E(\"HTML\", \"string\", HTML);\r\n    for(let i = 0; i < ele.childNodes.length; i++) returnA[i] = ele.childNodes[i];\r\n    return returnA;\r\n}\r\nfunction toHTMLString(HTML :HTMLElement) :string{\r\n    const ele = document.createElement(\"div\");\r\n    ele.appendChild(HTML);\r\n    return ele.innerHTML;\r\n}\r\nfunction repeat(item :any, count :number) :any[]{\r\n    if(typeof count != \"number\" || count < 1) E(\"count\", \"number smaller than 1\", count);\r\n    var arr :any[] = [];\r\n    arr[count - 1] = \" \";\r\n    return arr.fill(item, 0, count);\r\n}\r\nfunction randoma2z029(length :number) :string{\r\n    var s :string = \"\";\r\n    for(let i = 0; i < length; i++){\r\n        let r = Math.floor(Math.random() * 36);\r\n        if(r < 10) s += r;\r\n        else s += String.fromCharCode(r + 87);\r\n    }\r\n    return s;\r\n}\r\n//检查传入的id是否符合规则\r\nfunction checkTUID(id : string) :Boolean{\r\n    var preservedIDs :string[] = [\"annotation-xml\",\"color-profile\",\"font-face\",\"font-face-src\",\"font-face-uri\",\"font-face-format\",\"font-face-name\",\"missing-glyph\"];\r\n    var isValid = !!id.match(\"^[a-z0-9][a-z0-9-]+[a-z0-9]$\");\r\n    if(!isValid) console.warn(`The specified tuID is invalid: ${id}. Dynamic is going to generate one instead.`);\r\n    if(preservedIDs.indexOf(id) != -1){\r\n        isValid = false;\r\n        console.warn(`The specified tuID is one of the preserved element names: ${id}. Dynamic is going to generate one instead. See https://html.spec.whatwg.org/#valid-custom-element-name for help.`);\r\n    }\r\n    return isValid;\r\n}\r\n//生成id，abcdefgh-ijk\r\nfunction generateTUID() :string{\r\n    var s = [...randoma2z029(29)];\r\n    s[11] = \"-\";\r\n    return s.join(\"\");\r\n}\r\nfunction constantize(obj :anyObject) :void{\r\n    Object.freeze(obj);\r\n    for(let i = 0; i < Object.keys(obj).length; i++) if(typeof obj[Object.keys(obj)[i]] == \"object\") constantize(obj[Object.keys(obj)[i]]);\r\n}\r\nvar utils = {\r\n    E: E,\r\n    EE: EE,\r\n    toHTML: toHTML,\r\n    toHTMLString: toHTMLString,\r\n    repeat: repeat,\r\n    randoma2z029: randoma2z029,\r\n    checkTUID: checkTUID,\r\n    generateTUID: generateTUID,\r\n    constantize: constantize\r\n}\r\n//constantize(utils);\r\nexport default utils;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* dynamic.js\r\n * ©2022 LJM12914. https://github.com/openink/dynamic\r\n * Licensed under Apache 2.0 License. https://github.com/openink/dynamic/blob/main/LICENSE\r\n*/\r\ntype anyObject = Record<string, any>;\r\nimport template from \"./template\";\r\nimport dataFlow from \"./dataFlow\";\r\nimport utils from \"./utils\";\r\nconst Dynamic = (()=>{\r\n    console.warn(\"dynamic.js ©LJM12914. https://github.com/openink/dynamic \\r\\nYou are using an unminified version of dynamic.js, which is not suitable for production use.\");\r\n    class Dynamic{\r\n        template :object;\r\n        dataFlow :object;\r\n        options :object | undefined = undefined;\r\n        constructor(options? :anyObject){\r\n            console.warn(\"Creating new Dynamic instance.\");\r\n            if(options) this.options = options;\r\n            this.template = new template(this);\r\n            this.dataFlow = new dataFlow(this);\r\n        }\r\n        repeat(item :any, count :number) :any[]{return utils.repeat(item, count);}\r\n        render(HTML :string | HTMLElement | HTMLCollection | Node | NodeList | Node[], element :HTMLElement, insertAfter? :Boolean, append? :Boolean) :Node[]{\r\n            if(element.parentElement === null) utils.EE(\"cannot render by '<html>' element, since it's root of document.\");\r\n            var html :Node[] = [];\r\n            if(typeof HTML == \"string\") html = utils.toHTML(HTML);\r\n            else if(HTML instanceof HTMLElement || HTML instanceof Node) html[0] = HTML.cloneNode(true);\r\n            else if(HTML instanceof HTMLCollection || HTML instanceof NodeList) for(let i = 0; i < HTML.length; i++) html[i] = HTML.item(i)!.cloneNode(true);\r\n            else html = HTML;\r\n            const Rhtml = [...html].reverse(), parent = element.parentElement;\r\n            if(append === true) for(let i = 0; i < html.length; i++) element.append(html[i]);\r\n            else if(append === false) for(let i = 0; i < Rhtml.length; i++) element.prepend(Rhtml[i]);\r\n            else if(insertAfter === true){\r\n                if(!element.nextSibling) for(let i = 0; i < Rhtml.length; i++) parent!.append(Rhtml[i]);\r\n                else for(let i = 0; i < Rhtml.length; i++) parent!.insertBefore(Rhtml[i], element.nextSibling);\r\n            }\r\n            else if(insertAfter === false) for(let i = 0; i < html.length; i++) parent!.insertBefore(html[i], element);\r\n            else for(let i = 0; i < html.length; i++) element.append(html[i]);\r\n            return html;\r\n        }\r\n        e(s :string) :Node[] | Node{\r\n            let a :NodeList = document.querySelectorAll(s);\r\n            if(!a.length) return [];\r\n            if(a.length == 1 && s.match(/^.*#[^\\s]*$/)) return a[0];\r\n            else return Array.from(a);\r\n        }\r\n    }\r\n    utils.constantize(Dynamic);\r\n    return Dynamic;\r\n})();\r\nconst w1ndow = window as any;\r\nw1ndow.Dynamic = Dynamic;"],"names":[],"sourceRoot":""}