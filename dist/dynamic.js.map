{"version":3,"file":"dynamic.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAK2C;AAE5B,MAAM,QAAQ;IAMzB,YAAY,OAAuB;QALnC,oCAAyB;QACzB,6BAAuB,EAAE,EAAC;QAC1B,8BAAyB,EAAE,EAAC;QAC5B,qCAA4B;QAyC5B,0CAAyB,CAAC,OAAgB,EAAO,EAAE;QAEnD,CAAC;QACD,+BAAc,CAAC,UAA4B,EAAE,QAA0B,EAAO,EAAE;QAEhF,CAAC;QA3CG,2BAAI,qBAAY,OAAO,OAAC;QAExB,2BAAI,sBAAa,IAAI,gBAAgB,CAAC,2BAAI,4BAAY,CAAC,OAAC;QACxD,2BAAI,0BAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAC;YACjC,SAAS,EAAE,IAAI;YACf,OAAO,EAAE,IAAI;SAChB,CAAC,CAAC;IACP,CAAC;IACD,GAAG,CAAC,OAAgB;QAEhB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,2BAAI,0BAAU,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,IAAG,8DAA0B,CAAC,OAAO,EAAE,2BAAI,0BAAU,CAAC,CAAC,CAAC,CAAC,IAAI,OAAO,KAAK,2BAAI,0BAAU,CAAC,CAAC,CAAC,EAAC;gBACtI,OAAO,CAAC,IAAI,CAAC,GAAG,OAAO,wEAAwE,CAAC,CAAC;gBACjG,OAAO;aACV;QAED,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,2BAAI,0BAAU,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,IAAG,8DAA0B,CAAC,2BAAI,0BAAU,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC;gBAAE,4DAAwB,CAAC,2BAAI,0BAAU,CAAC,CAAC,CAAC,EAAE,2BAAI,0BAAU,CAAC,CAAC;QACtK,2BAAI,0BAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC7B,2BAAI,uCAAuB,MAA3B,IAAI,EAAwB,OAAO,CAAC,CAAC;IACzC,CAAC;IACD,SAAS;QACL,OAAO,2BAAI,0BAAU,CAAC;IAC1B,CAAC;IACD,WAAW,CAAC,QAA0B;QAClC,IAAG,QAAQ,YAAY,OAAO,EAAC;YAC3B,QAAQ,GAAG,2BAAI,0BAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAC5C,IAAG,QAAQ,IAAI,CAAC,CAAC;gBAAE,OAAO,IAAI,CAAC;SAClC;QACD,OAAO,2BAAI,0BAAU,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjD,CAAC;IACD,cAAc,CAAC,IAAwB;IAEvC,CAAC;IACD,oBAAoB;IAEpB,CAAC;IACD,OAAO,CAAC,KAAe,EAAE,KAAe;IAExC,CAAC;CAOJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrD0C;AACL;AAmBvB,MAAM,QAAQ;IAKzB,YAAY,OAAuB;QAJnC,oCAAyB;QACzB,8BAA+B,EAAE,EAAC;QAClC,8BAA+B,EAAE,EAAC;QAClC,qCAA4B;QAsF5B,+BAAc,CAAC,MAAe,EAAE,QAAoB,EAAO,EAAE;YACzD,MAAM,KAAK,GAAG,mDAAe,CAAC,MAAM,EAAE,MAAM,CAAsB,CAAC;YAEnE,KAAI,IAAI,CAAC,IAAI,QAAQ;gBAAE,IAAG,QAAQ,CAAC,CAAC,CAAC,KAAK,SAAS;oBAAE,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC;YACxE,IAAG,QAAQ,KAAK,SAAS,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC;gBAAE,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;oBACjF,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;oBAC9F,IAAG,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE;wBAAE,SAAS;oBAC1C,KAAI,IAAI,CAAC,IAAI,QAAQ;wBAAE,IAAG,CAAC,KAAK,IAAI,EAAC;4BACjC,MAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;4BAE5B,IAAG,UAAU;gCAAE,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,OAAO,CAAC;;gCACvC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,OAAO,CAAC;yBACrC;iBACJ;YACD,IAAG,KAAK,CAAC,MAAM,IAAI,CAAC;gBAAE,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;oBACvD,MAAM,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,aAAc,CAAC;oBACpC,uDAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBACpC,GAAG,CAAC,SAAS,EAAE,CAAC;iBACnB;QACL,CAAC;QACD,sCAAqB,CAAC,IAAU,EAAgB,EAAE;YAC9C,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,2BAAI,2BAAW,CAAC,MAAM,EAAE,CAAC,EAAE;gBAAE,IAAG,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI;oBAAE,OAAO,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC;YAC7G,OAAO,IAAI,CAAC;QAChB,CAAC;QAED,+BAAc,CAAC,UAA4B,EAAE,QAA0B,EAAO,EAAE;YAC5E,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE;gBAAE,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;oBAC/F,MAAM,GAAG,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACxC,IAAG,CAAC,CAAC,GAAG,YAAY,OAAO,CAAC;wBAAE,OAAO;oBAErC,IAAG,GAAG,YAAY,mBAAmB;wBAA+E,2BAAI,iCAAiB,MAArB,IAAI,EAAkB,GAAG,CAAC,CAAC;oBAE/I,IAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,EAAC;wBAG1C,IAAI,KAAK,GAAsB,EAAE,CAAC;wBAClC,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;4BAC1C,MAAM,KAAK,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAS,CAAC;4BACxC,IAAG,KAAK,YAAY,OAAO,IAAI,KAAK,CAAC,OAAO,KAAK,MAAM;gCAAE,KAAK,CAAC,IAAI,CAAC,KAAwB,CAAC,CAAC;yBACjG;wBAED,IAAI,QAAQ,GAAc,EAAE,CAAC;wBAC7B,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;4BACjC,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;4BAC3C,IAAG,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE;gCAAE,SAAS;4BAC1C,QAAQ,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;yBACvC;wBAED,GAAG,CAAC,SAAS,GAAG,EAAE,CAAC;wBACnB,IAAI,CAAC,MAAM,CAAC;4BACR,IAAI,EAAE,GAAG,CAAC,OAAO,CAAC,WAAW,EAAE;4BAC/B,OAAO,EAAE,GAAG;4BACZ,KAAK,EAAE,QAAQ;yBAClB,CAAC,CAAC;wBACH,uDAAmB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;qBAClC;iBACJ;QACL,CAAC;QAED,oCAAmB,CAAC,cAAoC,EAAO,EAAE;YAC7D,MAAM,QAAQ,GAAG,CAAC,QAA6B,EAAO,EAAE;gBACpD,IAAG,QAAQ,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,IAAI,EAAC;oBAC3C,IAAI,IAAI,GAAG,QAAQ,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;oBACzC,IAAG,CAAC,IAAI,IAAI,CAAC,6CAAoB,CAAC,IAAI,CAAC;wBAAE,IAAI,GAAG,gDAAuB,EAAE,CAAC;oBAE1E,MAAM,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,QAAQ,GAAG,+DAA2B,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;oBACnG,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE;wBAAE,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;oBAErE,IAAG,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,KAAK,IAAI;wBAAE,QAAQ,CAAC,MAAM,EAAE,CAAC;oBAChE,IAAI,CAAC,QAAQ,CAAC;wBACV,OAAO,EAAE,EAAE;wBACX,IAAI,EAAE,IAAI;wBACV,MAAM,EAAE,IAAI;qBACf,CAAC,CAAC;iBACN;YACL,CAAC,CAAC;YACF,IAAG,cAAc,KAAK,SAAS,EAAC;gBAC5B,MAAM,SAAS,GAAG,QAAQ,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;gBACxD,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE;oBAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;aACpE;;gBACI,QAAQ,CAAC,cAAc,CAAC,CAAC;QAClC,CAAC;QArKG,2BAAI,qBAAY,OAAO,OAAC;QACxB,2BAAI,iCAAiB,MAArB,IAAI,CAAmB,CAAC;QACxB,2BAAI,sBAAa,IAAI,gBAAgB,CAAC,2BAAI,4BAAY,CAAC,OAAC;QACxD,2BAAI,0BAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAC;YACjC,SAAS,EAAE,IAAI;YACf,OAAO,EAAE,IAAI;SAChB,CAAC,CAAC;IACP,CAAC;IAED,QAAQ,CAAC,IAAkB;QACvB,IAAG,IAAI,CAAC,IAAI,KAAK,SAAS,IAAI,CAAC,6CAAoB,CAAC,IAAI,CAAC,IAAI,CAAC;YAAE,mDAAe,CAAC,MAAM,EAAE,8BAA8B,EAAE,GAAG,IAAI,CAAC,IAAI,mCAAmC,CAAC,CAAC;aACpK,IAAG,IAAI,CAAC,IAAI,KAAK,SAAS;YAAE,IAAI,CAAC,IAAI,GAAG,gDAAuB,EAAE,CAAC;QACvE,OAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;YAC7B,IAAG,2BAAI,yBAAS,IAAI,2BAAI,yBAAS,CAAC,eAAe,KAAK,IAAI,EAAC;gBACvD,IAAG,2BAAI,yBAAS,CAAC,YAAY,KAAK,SAAS;oBAAE,IAAI,CAAC,IAAI,GAAG,2BAAI,yBAAS,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,EAAE,2BAAI,mCAAmB,MAAvB,IAAI,EAAoB,IAAI,CAAC,IAAI,CAAE,CAAC,CAAC;;oBAClI,mDAAe,CAAC,sBAAsB,EAAE,UAAU,EAAE,2BAAI,yBAAS,CAAC,YAAY,CAAC,CAAC;aACxF;;gBACI,mDAAe,CAAC,MAAM,EAAE,uBAAuB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;SACpE;QACD,MAAM,GAAG,GAAmB;YACxB,EAAE,EAAE,IAAI,CAAC,IAAI;YACb,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAY;SACnD,CAAC;QACF,2BAAI,2BAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAG,IAAI,CAAC,MAAM,KAAK,IAAI;YAAE,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;QAC/C,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IAED,MAAM,CAAC,IAAgB;QACnB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,2BAAI,2BAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;YAC3C,IAAG,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,EAAC;gBACnC,MAAM,OAAO,GAAG,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBAE3D,IAAG,OAAO,YAAY,OAAO;oBAAE,2BAAI,4BAAY,MAAhB,IAAI,EAAa,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;gBACrE,IAAI,KAAK,GAAW,EAAE,CAAC;gBACvB,IAAG,IAAI,CAAC,kBAAkB,KAAK,IAAI;oBAAE,KAAK,GAAG,+DAA2B,CAAC,OAAO,CAAC,CAAC;;oBAC7E,KAAK,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;gBACxB,OAAO,wDAAoB,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;aACnG;SACJ;QACD,mDAAe,CAAC,MAAM,EAAE,sBAAsB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/D,CAAC;IACD,MAAM,CAAC,IAAgB;QACnB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,2BAAI,2BAAW,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,IAAG,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,EAAC;gBACnF,IAAG,IAAI,CAAC,OAAO,YAAY,OAAO,EAAC;oBAC/B,MAAM,UAAU,GAAG,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBAC9C,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;oBAC1C,OAAO,UAAU,CAAC;iBACrB;;oBACI,mDAAe,CAAC,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;aAC5D;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACD,MAAM,CAAC,IAAU;QACb,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,2BAAI,2BAAW,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,IAAG,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,EAAC;gBAC9E,IAAI,OAAO,GAAG,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;gBACzC,2BAAI,2BAAW,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC7B,OAAO,OAAO,CAAC;aAClB;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACD,UAAU,CAAC,IAAU;QACjB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,2BAAI,2BAAW,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,IAAG,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI;gBAAE,OAAO,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;QACrH,OAAO,IAAI,CAAC;IAChB,CAAC;IACD,UAAU,CAAC,IAAU;QACjB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,2BAAI,2BAAW,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,IAAG,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI;gBAAE,OAAO,IAAI,CAAC;QAC/F,OAAO,KAAK,CAAC;IACjB,CAAC;IACD,aAAa,CAAC,OAAgB;QAC1B,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,2BAAI,2BAAW,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,IAAG,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC;gBAAE,OAAO,2BAAI,2BAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACjI,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,YAAY,KAAqB,OAAO,2BAAI,2BAAW,CAAC,EAAC;IACzD,WAAW,CAAC,IAAU;IAQtB,CAAC;CAmFJ;;;;;;;;;;;;;;;;;;;;ACjM0C;AAEpC,SAAS,SAAS,CAAC,EAAU;IAChC,MAAM,YAAY,GAAa,CAAC,gBAAgB,EAAC,eAAe,EAAC,WAAW,EAAC,eAAe,EAAC,eAAe,EAAC,kBAAkB,EAAC,gBAAgB,EAAC,eAAe,CAAC,CAAC;IAClK,IAAI,OAAO,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,8BAA8B,CAAC,CAAC;IAEzD,IAAG,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;QAAE,oDAAgB,CAAC,6DAA6D,EAAE,yEAAyE,CAAC,CAAC;IAC9L,OAAO,OAAO,CAAC;AACnB,CAAC;AAEM,SAAS,YAAY;IACxB,OAAO,GAAG,8DAA0B,CAAC,EAAE,CAAC,IAAI,8DAA0B,CAAC,EAAE,CAAC,EAAE,CAAC;AACjF,CAAC;AACM,SAAS,YAAY;IACxB,OAAO,QAAQ,8DAA0B,CAAC,EAAE,CAAC,EAAE,CAAC;AACpD,CAAC;AAEM,SAAS,SAAS,CAAC,EAAU;IAEhC,OAAO,IAAI,CAAC;AAChB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACpBgC;AAC1B,SAAS,CAAC,CAAC,CAAS,EAAE,KAA0B;IACnD,IAAG,KAAK,KAAK,SAAS,IAAI,CAAC,CAAC,KAAK,YAAY,OAAO,CAAC;QAAE,KAAK,GAAG,QAAQ,CAAC;IACpE,IAAI,CAAC,GAAa,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;IAC5C,IAAG,CAAC,CAAC,CAAC,MAAM;QAAE,OAAO,EAAE,CAAC;IAExB,IAAG,CAAC,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC;QAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;;QACnD,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAClC,CAAC;AACM,SAAS,YAAY,CAAC,kBAA2B,EAAE,cAAuB;IAC7E,OAAM,kBAAkB,CAAC,OAAO,IAAI,MAAM,EAAC;QACvC,kBAAkB,GAAG,kBAAkB,CAAC,UAAsB,CAAC;QAC/D,IAAG,kBAAkB,KAAK,cAAc;YAAE,OAAO,IAAI,CAAC;KACzD;IACD,OAAO,KAAK,CAAC;AACjB,CAAC;AACM,SAAS,YAAY,CAAC,OAAgB;IACzC,OAAO,YAAY,CAAC,OAAO,EAAG,CAAC,CAAC,MAAM,CAAY,CAAC,CAAC,CAAY,CAAC,CAAC;AACtE,CAAC;AAGM,SAAS,gBAAgB,CAAC,QAAc;IAC3C,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;AACvE,CAAC;AACM,SAAS,OAAO,CAAC,OAAgB,EAAE,MAAe;IACrD,MAAM,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC;IACnC,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE;QAAE,IAAG,OAAO,KAAK,QAAQ,CAAC,CAAC,CAAC;YAAE,OAAO,IAAI,CAAC;IACjF,OAAO,KAAK,CAAC;AACjB,CAAC;AACM,SAAS,MAAM,CAAC,IAAY;IAC/B,IAAG,IAAI,KAAK,EAAE,IAAI,OAAO,IAAI,IAAI,QAAQ;QAAE,6CAAe,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;IACnF,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC1C,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC;IACrB,OAAO,aAAa,CAAC,GAAG,CAAC,CAAC;AAC9B,CAAC;AACM,SAAS,aAAa,CAAC,EAAkB;IAC5C,IAAI,KAAK,GAAW,EAAE,CAAC;IACvB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE;QAAE,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAC1F,OAAO,KAAK,CAAC;AACjB,CAAC;AAEM,SAAS,KAAK,CAAC,OAAgB,EAAE,MAAgB;IAEpD,MAAM,GAAG,GAAG,OAAO,CAAC,aAAc,EAAE,QAAQ,GAAW,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IACtF,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE;QAAE,GAAG,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IAChF,IAAG,MAAM,KAAK,IAAI;QAAE,OAAO,CAAC,MAAM,EAAE,CAAC;IACrC,OAAO,QAAQ,CAAC;AACpB,CAAC;AAEM,SAAS,MAAM,CAAC,IAA8E,EAAE,OAAgB,EAAE,WAAqB,EAAE,MAAgB,EAAE,SAAmB;IACjL,IAAG,OAAO,CAAC,aAAa,KAAK,IAAI;QAAE,8CAAgB,CAAC,iEAAiE,CAAC,CAAC;IACvH,IAAI,IAAI,GAAW,EAAE,CAAC;IACtB,IAAG,OAAO,IAAI,IAAI,QAAQ;QAAE,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;SAC3C,IAAG,IAAI,YAAY,OAAO,IAAI,IAAI,YAAY,IAAI;QAAE,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SACnF,IAAG,IAAI,YAAY,cAAc,IAAI,IAAI,YAAY,QAAQ;QAAE,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;;QAC5I,IAAI,GAAG,IAAI,CAAC;IACjB,MAAM,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC;IAClE,IAAG,MAAM,KAAK,IAAI;QAAE,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;SAC5E,IAAG,MAAM,KAAK,KAAK;QAAE,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SACrF,IAAG,WAAW,KAAK,IAAI,EAAC;QACzB,IAAG,CAAC,OAAO,CAAC,WAAW;YAAE,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE;gBAAE,MAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;;YACnF,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE;gBAAE,MAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC;KAClG;SACI,IAAG,WAAW,KAAK,KAAK;QAAE,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,MAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;;QACtG,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAElE,OAAO,IAAI,CAAC;AAChB,CAAC;;;;;;;;;;;;;;;;;;;;;;ACnEgC;AAC1B,SAAS,SAAS,CAAC,MAAc;IACpC,IAAI,CAAC,GAAW,EAAE,CAAC;IACnB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAC;QAC3B,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;QACvC,IAAG,CAAC,GAAG,EAAE;YAAE,CAAC,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;;YACvC,CAAC,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;KACzC;IACD,OAAO,CAAC,CAAC;AACb,CAAC;AACM,SAAS,YAAY,CAAC,MAAc;IACvC,IAAI,CAAC,GAAW,EAAE,CAAC;IACnB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAC;QAC3B,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;QACvC,IAAG,CAAC,GAAG,EAAE;YAAE,CAAC,IAAI,CAAC,CAAC;;YACb,CAAC,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;KACzC;IACD,OAAO,CAAC,CAAC;AACb,CAAC;AACM,SAAS,UAAU,CAAC,GAAQ,EAAE,KAAY;IAC7C,IAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAAE,OAAO,IAAI,CAAC;IAC1C,OAAO,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAC/C,CAAC;AAEM,SAAS,WAAW,CAAC,GAAc;IACtC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACnB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE;QAAE,IAAG,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,QAAQ;YAAE,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3I,CAAC;AACM,SAAS,CAAC,CAAC,QAAgB,EAAE,IAAa,EAAE,KAAW,EAAE,MAAe;IAC3E,IAAG,QAAQ,KAAK,SAAS;QAAE,MAAM,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC;SAC5D;QACA,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QAC7C,MAAM,IAAI,KAAK,CAAC,aAAa,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,mBAAmB,IAAI,EAAE,CAAC,CAAC,CAAC,YAAY,GAAG,MAAM,CAAC,CAAC,CAAC,aAAa,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC,SAAS,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;KACvK;AACL,CAAC;AACM,SAAS,EAAE,CAAC,OAAY,IAAS,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,EAAC;AAC3D,SAAS,MAAM,CAAC,IAAS,EAAE,KAAa;IAC3C,IAAG,OAAO,KAAK,IAAI,QAAQ,IAAI,KAAK,GAAG,CAAC;QAAE,6CAAe,CAAC,OAAO,EAAE,uBAAuB,EAAE,KAAK,CAAC,CAAC;IACnG,IAAI,GAAG,GAAU,EAAE,CAAC;IACpB,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;IACrB,OAAO,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;AACpC,CAAC;;;;;;;;;;;;;;;;;;ACzCoC;AAAlB;AACkB;AAAlB;;;;;;;UCLnB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;ACFkC;AACA;AACS;AAiB3C,OAAO,CAAC,IAAI,CAAC,2JAA2J,CAAC,CAAC;AAC1K,MAAM,OAAO;IAKT,YAAY,OAAwB;QAJpC,mCAAyB;QAKrB,OAAO,CAAC,GAAG,CAAC,4CAA4C,EAAE,OAAO,CAAC,CAAC;QACnE,2BAAI,oBAAY,OAAO,OAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,iDAAQ,CAAC,2BAAI,wBAAS,CAAC,CAAC;QAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,iDAAQ,CAAC,2BAAI,wBAAS,CAAa,CAAC;IAE5D,CAAC;IACD,UAAU;QACN,OAAO,2BAAI,wBAAS,CAAC;IACzB,CAAC;IACD,MAAM,CAAC,IAAgB;QAEnB,OAAO,wDAAoB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IACxG,CAAC;IACD,MAAM,CAAC,IAAgB;QACnB,OAAO,wDAAoB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACvD,CAAC;IACD,CAAC,CAAC,CAAS,EAAE,KAA0B;QACnC,OAAO,mDAAe,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;IACrC,CAAC;IACD,MAAM,CAAC,IAAY;QACf,OAAO,wDAAoB,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IACD,KAAK,CAAC,IAAe;QACjB,OAAO,uDAAmB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC1D,CAAC;IACD,OAAO;IAEP,CAAC;IACD,CAAC,CAAC,IAAwB;QACtB,OAAO,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAC9C,CAAC;CACJ;;AACD,6DAAyB,CAAC,OAAO,CAAC,CAAC;AAClC,MAAc,CAAC,OAAO,GAAG,OAAO,CAAC","sources":["webpack:///./src/dataFlow.ts","webpack:///./src/template.ts","webpack:///./src/utils.ts","webpack:///../utils/element.ts","webpack:///../utils/generic.ts","webpack:///../utils/index.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/dynamic.ts"],"sourcesContent":["/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport template from \"./template\";\r\nimport * as utils from \"../../utils/index\";\r\nimport * as localUtils from \"./utils\";\r\nexport default class dataFlow{\r\n    #options :dynamicOptions;\r\n    #dfScopes :Element[] = [];\r\n    #dataNodes :dataNode[] = [];\r\n    #observer :MutationObserver;\r\n    //#_ :anyObject = {};\r\n    constructor(options :dynamicOptions/*, _ :anyObject*/){\r\n        this.#options = options;\r\n        //this.#_ = _;\r\n        this.#observer = new MutationObserver(this.#observerCB);\r\n        this.#observer.observe(document.body,{\r\n            childList: true,\r\n            subtree: true\r\n        });\r\n    }\r\n    new(element :Element) :void{\r\n        //排除已经是目前作用域或目前作用域子元素的新增\r\n        for(let i = 0; i < this.#dfScopes.length; i++) if(utils.element.isDescendant(element, this.#dfScopes[i]) || element === this.#dfScopes[i]){\r\n            console.warn(`${element} is already a descendant of an exist scope, thus dynamic won't add it.`);\r\n            return;\r\n        }\r\n        //排除原数组中是新增作用域子元素的元素\r\n        for(let i = 0; i < this.#dfScopes.length; i++) if(utils.element.isDescendant(this.#dfScopes[i], element)) utils.generic.precisePop(this.#dfScopes[i], this.#dfScopes);\r\n        this.#dfScopes.push(element);\r\n        this.#convertExportDataNode(element);\r\n    }\r\n    getScopes() :Element[]{ //todo:记得review一下，在学校干的\r\n        return this.#dfScopes;\r\n    }\r\n    deleteScope(identity :Element | number) :Element | null{ //todo:记得review一下，在学校干的\r\n        if(identity instanceof Element){\r\n            identity = this.#dfScopes.indexOf(identity);\r\n            if(identity == -1) return null;\r\n        }\r\n        return this.#dfScopes.splice(identity, 1)[0];\r\n    }\r\n    createDataNode(args :createDataNodeArgs){\r\n        \r\n    }\r\n    createExportDataNode() /*:string*/{\r\n        \r\n    }\r\n    connect(node1 :dataNode, node2 :dataNode){\r\n\r\n    }\r\n    #convertExportDataNode = (element :Element) :void=>{\r\n        \r\n    }\r\n    #observerCB = (resultList :MutationRecord[], observer :MutationObserver) :void=>{\r\n        //seize:\r\n    }\r\n}\r\n","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport dataFlow from \"./dataFlow\";\r\nimport * as utils from \"../../utils/index\";\r\nimport * as localUtils from \"./utils\";\r\ninterface registerArgs{\r\n    element :Element;\r\n    tuID? :tuID;\r\n    remove? :boolean;\r\n}\r\ninterface renderArgs{\r\n    tuID :tuID;\r\n    element :Element;\r\n    slots? :anyObject;\r\n    removeOuterElement? :boolean;\r\n    insertAfter? :boolean;\r\n    append? :boolean;\r\n    disableDF? :boolean;\r\n}\r\ninterface updateArgs{\r\n    tuID :tuID;\r\n    element :Element;\r\n}\r\nexport default class template{\r\n    #options :dynamicOptions;\r\n    #templates :templateObject[] = [];\r\n    #instances :instanceObject[] = [];\r\n    #observer :MutationObserver;\r\n    constructor(options :dynamicOptions){\r\n        this.#options = options;\r\n        this.#convertTemplate();\r\n        this.#observer = new MutationObserver(this.#observerCB);\r\n        this.#observer.observe(document.body,{\r\n            childList: true,\r\n            subtree: true\r\n        });\r\n    }\r\n    //注册模板核心方法，不用判断nodynamic dynamic了！\r\n    register(args :registerArgs) :string{\r\n        if(args.tuID !== undefined && !localUtils.checkTUID(args.tuID)) utils.generic.E(\"tuID\", \"string with some limitations\", `${args.tuID}, read the documentation for help`);\r\n        else if(args.tuID === undefined) args.tuID = localUtils.generateTUID();\r\n        while(this.existsTUID(args.tuID)){ //碰撞处理，万一真的碰撞了怎么办……\r\n            if(this.#options && this.#options.enableAntiClash === true){\r\n                if(this.#options.clashHandler !== undefined) args.tuID = this.#options.clashHandler(\"tuID\", args, this.#getTemplateObject(args.tuID)!);\r\n                else utils.generic.E(\"options.clashHandler\", \"Function\", this.#options.clashHandler);\r\n            }\r\n            else utils.generic.E(\"tuID\", \"non-repetitive string\", args.tuID);\r\n        }\r\n        const tem :templateObject = {\r\n            id: args.tuID,\r\n            content: args.element.cloneNode(true) as Element\r\n        };\r\n        this.#templates.push(tem);\r\n        if(args.remove === true) args.element.remove();\r\n        return args.tuID;\r\n    }\r\n    //超级核心方法todo:添加渲染限制\r\n    render(args :renderArgs) :Node[] | undefined/*hack:ts不认utils.E的never类型，只能加undefined了*/{\r\n        for(let i = 0; i < this.#templates.length; i++){\r\n            if(this.#templates[i].id === args.tuID){\r\n                const content = this.#templates[i].content.cloneNode(true);\r\n                //slots变量替换\r\n                if(content instanceof Element) this.#parseSlots(content, args.slots);\r\n                var nodes :Node[] = [];\r\n                if(args.removeOuterElement === true) nodes = utils.element.getInnerNodes(content);\r\n                else nodes[0] = content;\r\n                return utils.element.render(nodes, args.element, args.insertAfter, args.append, args.disableDF);\r\n            }\r\n        }\r\n        utils.generic.E(\"tuID\", \"valid ID that exists\", args.tuID);\r\n    }\r\n    update(args :updateArgs) :Element | null{\r\n        for(let i = 0; i < this.#templates.length; i++) if(this.#templates[i].id === args.tuID){\r\n            if(args.element instanceof Element){\r\n                const oldContent = this.#templates[i].content;\r\n                this.#templates[i].content = args.element;\r\n                return oldContent;\r\n            }\r\n            else utils.generic.E(\"element\", \"Element\", args.element);\r\n        }\r\n        return null;\r\n    }\r\n    delete(tuID :tuID) :Element | null{\r\n        for(let i = 0; i < this.#templates.length; i++) if(this.#templates[i].id === tuID){\r\n            let content = this.#templates[i].content;\r\n            this.#templates.splice(i, 1);\r\n            return content;\r\n        }\r\n        return null;\r\n    }\r\n    getContent(tuID :tuID) :Element | null{\r\n        for(let i = 0; i < this.#templates.length; i++) if(this.#templates[i].id === tuID) return this.#templates[i].content;\r\n        return null;\r\n    }\r\n    existsTUID(tuID :tuID) :boolean{\r\n        for(let i = 0; i < this.#templates.length; i++) if(this.#templates[i].id === tuID) return true;\r\n        return false;\r\n    }\r\n    existsElement(element :Element) :string | null{\r\n        for(let i = 0; i < this.#templates.length; i++) if(this.#templates[i].content.isEqualNode(element)) return this.#templates[i].id;\r\n        return null;\r\n    }\r\n    //获取所有模板\r\n    getTemplates() :templateObject[]{return this.#templates;}\r\n    getInstance(tuID :tuID) /*:instanceObject | instanceObject[]*/{\r\n        //todo:传入tuid，获取已实例化的模板列表\r\n        /*return [{\r\n            reference: ,\r\n            slots:[\r\n\r\n            ]\r\n        }];*/\r\n    }\r\n    #parseSlots = (target :Element, argSlots? :anyObject) :void=>{\r\n        const slots = utils.element.e(\"slot\", target) as HTMLSlotElement[]; //用非id的css选择器就一定返回Node[]\r\n        //console.log(slots);\r\n        for(let j in argSlots) if(argSlots[j] === undefined) delete argSlots[j];  //预先把魔法字扔掉，可以省复杂度\r\n        if(argSlots !== undefined && slots.length != 0) for(let i = 0; i < slots.length; i++){ //用一个attribute比遍整个args.slot\r\n            const attr = slots[i].getAttribute(\"name\"), isHTMLSlot = slots[i].getAttribute(\"html\") === \"\";\r\n            if(attr === null || attr === \"\") continue;\r\n            for(let j in argSlots) if(j === attr){\r\n                const content = argSlots[j];\r\n                //if(content === undefined) continue; //魔法字 //预先扔掉省复杂度#L118\r\n                if(isHTMLSlot) slots[i].innerHTML = content;\r\n                else slots[i].innerText = content;\r\n            }\r\n        }\r\n        if(slots.length != 0) for(let i = 0; i < slots.length; i++){ //转换slots节点到文本节点\r\n            const par = slots[i].parentElement!;\r\n            utils.element.hatch(slots[i], true);\r\n            par.normalize();\r\n        }\r\n    }\r\n    #getTemplateObject = (tuID :tuID) :object | null=>{\r\n        for(let i = 0; i < this.#templates.length; i++) if(this.#templates[i].id === tuID) return this.#templates[i];\r\n        return null;\r\n    }\r\n    //observer回调方法\r\n    #observerCB = (resultList :MutationRecord[], observer :MutationObserver) :void=>{\r\n        for(let i = 0; i < resultList.length; i++) for(let j = 0; j < resultList[i].addedNodes.length; j++){\r\n            const ele = resultList[i].addedNodes[j];\r\n            if(!(ele instanceof Element)) return; //不处理文本注释节点\r\n            //template增量注册\r\n            if(ele instanceof HTMLTemplateElement/*t && ele.getAttribute(\"nodynamic\") === null //放到convertTemplate里面做，不要混乱分工*/) this.#convertTemplate(ele);\r\n            //释放tuid检测与渲染模板\r\n            if(this.getContent(ele.tagName.toLowerCase())){\r\n                //识别模板变量并插入\r\n                //const slots = utils.e(\"slots\", ele) as HTMLSlotElement[]; //note:自定义标签名元素设置的innerHTML无法使用querySelectorAll，只能遍历节点\r\n                var slots :HTMLSlotElement[] = [];\r\n                for(let i = 0; i < ele.childNodes.length; i++){\r\n                    const child = ele.childNodes[i] as Node;\r\n                    if(child instanceof Element && child.tagName === \"SLOT\") slots.push(child as HTMLSlotElement);\r\n                }\r\n                //console.log(ele.childNodes, ele.innerHTML, ele, slots);\r\n                var argSlots :anyObject = {};\r\n                for(let i = 0; i < slots.length; i++){\r\n                    const name = slots[i].getAttribute(\"name\");\r\n                    if(name === null || name === \"\") continue; //到#parseSlots后会处理这种没name的玩意\r\n                    argSlots[name] = slots[i].innerHTML; //到#parseSlots后还有个innerText挡住呢\r\n                }\r\n                //console.log(argSlots);\r\n                ele.innerHTML = \"\"; //全部清空，slots已经提取出来了\r\n                this.render({\r\n                    tuID: ele.tagName.toLowerCase(),\r\n                    element: ele,\r\n                    slots: argSlots\r\n                });\r\n                utils.element.hatch(ele, true);\r\n            }\r\n        }\r\n    }\r\n    //从template增量注册与起始注册混用方法，检测template声明式attribute。\r\n    #convertTemplate = (template_input? :HTMLTemplateElement) :void=>{\r\n        const goRender = (template :HTMLTemplateElement) :void=>{\r\n            if(template.getAttribute(\"nodynamic\") === null){\r\n                var tuid = template.getAttribute(\"tuid\");\r\n                if(!tuid || !localUtils.checkTUID(tuid)) tuid = localUtils.generateTUID();\r\n                //干掉template的shadow dom\r\n                const el = document.createElement(\"div\"), children = utils.element.getInnerNodes(template.content);\r\n                for(let i = 0; i < children.length; i++) el.appendChild(children[i]);\r\n                //提前remove掉dynamic的template\r\n                if(template.getAttribute(\"dynamic\") !== null) template.remove();\r\n                this.register({\r\n                    element: el,\r\n                    tuID: tuid,\r\n                    remove: true //这里不写是因为传入的是游离dom //argument:到底写不写？\r\n                });\r\n            }\r\n        };\r\n        if(template_input === undefined){\r\n            const templates = document.querySelectorAll(\"template\");\r\n            for(let i = 0; i < templates.length; i++) goRender(templates[i]);\r\n        }\r\n        else goRender(template_input);\r\n    }\r\n}","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../utils/index\";\r\n//检查传入的tuid是否符合规则\r\nexport function checkTUID(id :string) :boolean{\r\n    const preservedIDs :string[] = [\"annotation-xml\",\"color-profile\",\"font-face\",\"font-face-src\",\"font-face-uri\",\"font-face-format\",\"font-face-name\",\"missing-glyph\"];\r\n    var isValid = !!id.match(\"^[a-z0-9][a-z0-9-]+[a-z0-9]$\");\r\n    //if(!isValid) console.warn(`The specified tuID is invalid: ${id}. dynamic is going to generate one instead.`);\r\n    if(preservedIDs.indexOf(id) != -1) utils.generic.EE(`The specified tuID is one of the preserved element names: ${id}. See https://html.spec.whatwg.org/#valid-custom-element-name for help.`);\r\n    return isValid;\r\n}\r\n//生成id，abcdefgh-ijk\r\nexport function generateTUID() :string{\r\n    return `${utils.generic.randoma2z029(11)}-${utils.generic.randoma2z029(17)}`;\r\n}\r\nexport function generateDFID() :string{\r\n    return `dfid-${utils.generic.randoma2z029(24)}`;\r\n}\r\n//检查dfid\r\nexport function checkDFID(id :string) :boolean{\r\n    //todo:检查dfID是否合乎标准\r\n    return true;\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"./index\";\r\nexport function e(s :string, scope? :Element | Document) :Node[] | Node{\r\n    if(scope === undefined || !(scope instanceof Element)) scope = document;\r\n        let a :NodeList = scope.querySelectorAll(s);\r\n        if(!a.length) return [];\r\n        //note:当一个页面存在相同ID元素时不会走这里，而会返回数组，因为说好了是querySelectorAll了并且本来就不应该有重复ID，不能怪我啊\r\n        if(a.length == 1 && s.match(/^.*#[^\\s]*$/)) return a[0];\r\n        else return Array.from(a);\r\n}\r\nexport function isDescendant(possibleDescendant :Element, possibleParent :Element) :boolean{\r\n    while(possibleDescendant.tagName != \"HTML\"){\r\n        possibleDescendant = possibleDescendant.parentNode! as Element;\r\n        if(possibleDescendant === possibleParent) return true; \r\n    }\r\n    return false;\r\n}\r\nexport function isInDocument(element :Element) :boolean{\r\n    return isDescendant(element, (e(\"html\") as Node[])[0] as Element);\r\n}\r\n/**删除 HTML 文档中因缩进而导致的文本，`\\n (数个空格)`。\r\n*/\r\nexport function removeIndentText(textNode :Text) :void{\r\n    textNode.textContent = textNode.textContent!.replace(/\\n\\s+/g, \"\");\r\n}\r\nexport function isChild(element :Element, target :Element) :boolean{\r\n    const children = target.childNodes;\r\n    for(let i = 0; i < children.length; i++) if(element === children[i]) return true;\r\n    return false;\r\n}\r\nexport function toHTML(HTML :string) :Node[]{\r\n    if(HTML === \"\" || typeof HTML != \"string\") utils.generic.E(\"HTML\", \"string\", HTML);\r\n    const ele = document.createElement(\"div\");\r\n    ele.innerHTML = HTML;\r\n    return getInnerNodes(ele);\r\n}\r\nexport function getInnerNodes(el :Node | Element) :Node[]{\r\n    var nodes :Node[] = [];\r\n    for(let i = 0; i < el.childNodes.length; i++) nodes[i] = el.childNodes[i].cloneNode(true);\r\n    return nodes;\r\n}\r\n//剥壳器\r\nexport function hatch(element :Element, remove? :boolean) :Node[]{\r\n    //note:Nodelist类型会实时同步造成不稳定的for循环，必须转换为Node[]！\r\n    const par = element.parentElement!, children :Node[] = Array.from(element.childNodes);\r\n    for(let i = 0; i < children.length; i++) par.insertBefore(children[i], element);\r\n    if(remove === true) element.remove();\r\n    return children;\r\n}\r\n//最终渲染方法，老祖宗求你别出bug\r\nexport function render(HTML :string | Element | HTMLCollection | Element[] | Node | NodeList | Node[], element :Element, insertAfter? :boolean, append? :boolean, disableDF? :boolean) :Node[]{\r\n    if(element.parentElement === null) utils.generic.EE(\"cannot render by '<html>' element, since it's root of document.\");\r\n    var html :Node[] = [];\r\n    if(typeof HTML == \"string\") html = toHTML(HTML);\r\n    else if(HTML instanceof Element || HTML instanceof Node) html[0] = HTML.cloneNode(true);\r\n    else if(HTML instanceof HTMLCollection || HTML instanceof NodeList) for(let i = 0; i < HTML.length; i++) html[i] = HTML.item(i)!.cloneNode(true);\r\n    else html = HTML;\r\n    const Rhtml = [...html].reverse(), parent = element.parentElement;\r\n    if(append === true) for(let i = 0; i < html.length; i++) element.append(html[i]);\r\n    else if(append === false) for(let i = 0; i < Rhtml.length; i++) element.prepend(Rhtml[i]);\r\n    else if(insertAfter === true){\r\n        if(!element.nextSibling) for(let i = 0; i < Rhtml.length; i++) parent!.append(Rhtml[i]);\r\n        else for(let i = 0; i < Rhtml.length; i++) parent!.insertBefore(Rhtml[i], element.nextSibling);\r\n    }\r\n    else if(insertAfter === false) for(let i = 0; i < html.length; i++) parent!.insertBefore(html[i], element);\r\n    else for(let i = 0; i < html.length; i++) element.append(html[i]);\r\n    //todo:加入作用域\r\n    return html;\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"./index\";\r\nexport function randoma2Z(length :number) :string{ //52\r\n    var s :string = \"\";\r\n    for(let i = 0; i < length; i++){\r\n        let r = Math.floor(Math.random() * 52);\r\n        if(r > 25) s += String.fromCharCode(r + 71);\r\n        else s += String.fromCharCode(r + 65);\r\n    }\r\n    return s;\r\n}\r\nexport function randoma2z029(length :number) :string{ //36\r\n    var s :string = \"\";\r\n    for(let i = 0; i < length; i++){\r\n        let r = Math.floor(Math.random() * 36);\r\n        if(r < 10) s += r;\r\n        else s += String.fromCharCode(r + 87);\r\n    }\r\n    return s;\r\n}\r\nexport function precisePop(ele :any, array :any[]) :any[] | null{\r\n    if(array.indexOf(ele) === -1) return null;\r\n    return array.splice(array.indexOf(ele), 1);\r\n}\r\n//递归冻结对象\r\nexport function constantize(obj :anyObject) :void{\r\n    Object.freeze(obj);\r\n    for(let i = 0; i < Object.keys(obj).length; i++) if(typeof obj[Object.keys(obj)[i]] == \"object\") constantize(obj[Object.keys(obj)[i]]);\r\n}\r\nexport function E(argument :string, type? :string, value? :any, reason? :string) :never{\r\n    if(argument === undefined) throw new Error(\"An error occured.\");\r\n    else{\r\n        console.error(argument, type, value, reason); //为了拿到真正的value，其他类型toString后啥信息都没了\r\n        throw new Error(`Argument '${argument}' ${type ? `should be a(an) ${type}` : \"is invalid\"}${reason ? `, reason: ${reason}` : \"\"}${value ? `, got ${value}` : \"\"}.`);\r\n    }\r\n}\r\nexport function EE(message :any) :never{throw new Error(message);}\r\nexport function repeat(item :any, count :number) :any[]{\r\n    if(typeof count != \"number\" || count < 1) utils.generic.E(\"count\", \"number smaller than 1\", count);\r\n    var arr :any[] = [];\r\n    arr[count - 1] = \" \";\r\n    return arr.fill(item, 0, count);\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nexport * as generic from \"./generic\";\r\nexport * as element from \"./element\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* dynamic\r\n * ©2022 LJM12914. https://github.com/wheelsmake/dynamic\r\n * Licensed under MIT License. https://github.com/wheelsmake/dynamic/blob/main/LICENSE\r\n*/\r\nimport template from \"./template\";\r\nimport dataFlow from \"./dataFlow\";\r\nimport * as utils from \"../../utils/index\";\r\nimport * as localUtils from \"./utils\";\r\ninterface renderArgs{\r\n    HTML :string | Element | HTMLCollection | Node | NodeList | Node[];\r\n    element :Element;\r\n    insertAfter? :boolean;\r\n    append? :boolean;\r\n    disableDF? :boolean;\r\n}\r\ninterface repeatArgs{\r\n    item :any;\r\n    count :number;\r\n}\r\ninterface hatchArgs{\r\n    element :Element;\r\n    remove? :boolean;\r\n}\r\nconsole.warn(\"dynamic.js ©LJM12914. https://github.com/openink/dynamic \\r\\nYou are using an unminified version of dynamic.js, which is not suitable for production use.\");\r\nclass Dynamic{\r\n    #options :dynamicOptions;\r\n    template :template;\r\n    dataFlow :dataFlow;\r\n    //_ :anyObject = {}; //没搞懂啊\r\n    constructor(options? :dynamicOptions){\r\n        console.log(\"Creating new Dynamic instance with options\", options);\r\n        this.#options = options;\r\n        this.template = new template(this.#options);\r\n        this.dataFlow = new dataFlow(this.#options/*, this._*/);\r\n        //this.#utils = utils;\r\n    }\r\n    getOptions() :dynamicOptions{\r\n        return this.#options;\r\n    }\r\n    render(args :renderArgs) :Node[]{\r\n        //todo:添加渲染限制\r\n        return utils.element.render(args.HTML, args.element, args.insertAfter, args.append, args.disableDF);\r\n    }\r\n    repeat(args :repeatArgs) :any[]{\r\n        return utils.generic.repeat(args.item, args.count);\r\n    }\r\n    e(s :string, scope? :Element | Document) :Node[] | Node{\r\n        return utils.element.e(s, scope);\r\n    }\r\n    toHTML(HTML :string) :Node[]{\r\n        return utils.element.toHTML(HTML);\r\n    }\r\n    hatch(args :hatchArgs) :Node[]{\r\n        return utils.element.hatch(args.element, args.remove);\r\n    }\r\n    compose(){\r\n        //todo:\r\n    }\r\n    n(args :createDataNodeArgs){\r\n        return this.dataFlow.createDataNode(args);\r\n    }\r\n}\r\nutils.generic.constantize(Dynamic);\r\n(window as any).Dynamic = Dynamic;"],"names":[],"sourceRoot":""}